let tmp,users,newUser=document.querySelector("#newUser"),newpassword=document.querySelector("#newpassword"),job=document.querySelector("#job"),register=document.querySelector(".register"),mood="create";const{ipcRenderer:ipcRenderer}=require("electron");function showUsers(){let e="";for(let s=0;s<users.length;s++)e+=`\n            <tr>\n                <td>${s+1}</td>\n                <td>${users[s].user}</td>\n                <td>${users[s].job}</td>\n                <td onclick="updateUser(${s});"><button>تعديل الحساب</button></td>\n                <td onclick="deleteUser(${s});"><button>حذف الحساب</button></td>\n            </tr>\n        \n        `;document.querySelector(".tbodyUsers").innerHTML=e}function clearInputs(){newUser.value=newpassword.value=""}function updateUser(e){document.querySelector(".user").style.display="block",document.querySelector("#btnOpenInputs").style.display="none",newUser.value=users[e].user,newpassword.value=users[e].password,job.value=users[e].job,mood="update",register.innerHTML="تحديث بيانات",tmp=e,newUser.focus(),scroll({top:0,behavior:"smooth"}),document.querySelector(".alarm").style.display="none"}let tmpIdDelete;function deleteUser(e){for(let s=0;s<users.length;s++)"it"!=users[s].job&&"مدير"!=users[s].job||(document.querySelector(".alarm").style.display="flex",tmpIdDelete=e)}users=null!=localStorage.allUsers?JSON.parse(localStorage.allUsers):[],register.onclick=function(){let e={user:newUser.value,password:newpassword.value,job:job.value};"create"==mood?(users.push(e),ipcRenderer.send("allUsers",e)):(users[tmp]=e,ipcRenderer.send("update-allUsers",{...e,tmp:tmp}),mood="create"),localStorage.setItem("allUsers",JSON.stringify(users)),window.location.reload()},showUsers();let inpuCheckPass=document.querySelector("#passCheck");function checkPass(){users.splice(tmpIdDelete,1),ipcRenderer.send("deleteUser",tmpIdDelete),localStorage.setItem("allUsers",JSON.stringify(users)),window.location.reload()}function exitePass(e){inpuCheckPass.value="",document.querySelector(".alarm").style.display="none"}function showInputs(){document.querySelector(".user").style.display="block",document.querySelector("#btnOpenInputs").style.display="none"}